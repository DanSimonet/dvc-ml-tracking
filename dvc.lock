schema: '2.0'
stages:
  split:
    cmd: python src/split.py
    deps:
    - path: data/raw/train
      hash: md5
      md5: 976645e56d5639bc6ae3e6d3cbbeaef6.dir
      size: 171677684
      nfiles: 28621
    - path: src/split.py
      md5: 93dceb6c24db44d128846932baf3536c
      size: 1469
    params:
      params.yaml:
        split.ratio: 0.1
    outs:
    - path: data/raw/test
      hash: md5
      md5: df35163f3782efe2185eb1e3083a718b.dir
      size: 18694743
      nfiles: 3161
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw
      hash: md5
      md5: cdd31bd724fb89887ee7f267d81ddbcc.dir
      size: 190372550
      nfiles: 31784
    - path: src/preprocess.py
      hash: md5
      md5: f28a028a176a2a99d6fd6012233baad5
      size: 1763
    params:
      params.yaml:
        preprocess:
          denoise_weight: 0.03
          image_width: 30
          image_height: 30
    outs:
    - path: data/prepared
      hash: md5
      md5: 3327e6df8b421a0f37e1b4caa26228b9.dir
      size: 137379839
      nfiles: 31781
  train:
    cmd: python src/train.py
    deps:
    - path: data
      hash: md5
      md5: 3c64eddef8e258ff217f85948a145d56.dir
      size: 327752399
      nfiles: 63566
    - path: src/train.py
      md5: 6b511e9b9291fdaa030d800d03f0d80d
      size: 3747
    outs:
    - path: evaluation/metrics.json
      hash: md5
      md5: 404e6bbc0e6250aed9e5e02ad7f6cc54
      size: 368
    - path: evaluation/plots
      hash: md5
      md5: 64e9f5a5c5094318ef7bf6c5be1e83a0.dir
      size: 940
      nfiles: 8
    - path: models
      hash: md5
      md5: c333c6378b48aed9eaa2f41443fcd397.dir
      size: 44348118
      nfiles: 1
